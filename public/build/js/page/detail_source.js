$(function(){function e(){var e=$(".title");$.ajax({url:"http://lz.594211.xyz//source/remove",type:"POST",dataType:"json",data:{id:sourceData.id}}).done(function(o){1==o.status?(e.operTip("操作成功，本窗口3秒后自动关闭。",{theme:"success"}),window.opener&&window.opener.renderTable&&window.opener.renderTable(),setTimeout(function(){window.close()},3e3)):2==o.status&&e.operTip(o.msg||"操作失败！",{theme:"danger",css:{"white-space":"nowrap"}})}).fail(function(o){e.operTip("操作失败！",{theme:"danger",css:{"white-space":"nowrap"}}),console.dir(o)})}var o=new Tip({$ct:$(".btn_remove").parent(),confirm:!0,isShow:!1,theme:"warning",content:"您确认要删除"+sourceData.name+"("+sourceData.id+")",css:{"word-break":"break-word"},alertfn:function(o){o&&e()}});$("body").on("click",".btn_edit",function(){oper_source.box.initHeader("修改来源"),oper_source.box.operType="modify",oper_source.box.initContent("http://lz.594211.xyz//page/source_add .add_source_form",function(){oper_source.box.show(),$('form.add_source [name="name"]').val(sourceData.name).before($('<input type="hidden" name="id" value="'+sourceData.id+'">'))});var e=$(this).parent();oper_source.box.afterfnSure=function(o,n){o?(window.location.href=window.location.href,window.opener&&window.opener.renderTable&&window.opener.renderTable()):e.operTip(n||"操作失败！",{theme:"danger",css:{"white-space":"nowrap"}})}}).on("click",".btn_remove",function(){o.show()})});